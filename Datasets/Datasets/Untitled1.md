{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "624455a7",
   "metadata": {},
   "source": [
    "# Cyclistic Analysis Report\n",
    "\n",
    "**By:** Roger Gomez\n",
    "\n",
    "**Date:** April 4, 2025\n",
    "\n",
    "**Project Context:**\n",
    "\n",
    "This report analyze analyse the data from Cyclistic dataset to get insights about the difference between \"casual\" and \"member\" customer.\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "cc5d3226",
   "metadata": {},
   "source": [
    "## Introduction\n",
    "This report analyzes the period time from 2024-Feb to 2025-Feb data from Bike-Share Company operating in Chicago. The primary objective of the analysis is to identift and understand the differences in riding behaviors between two distinct user groups: **members** and **casuals** riders.By examining key metrics such as total number of rides and bike type usage across both groups, this report aims to uncover patterns that can inform Cyclistic's marketing strategy. Understranding how each rider type intereacts with the service —such as their most-used bike types—can help Cyclistic make data-driven decision to increase annual memberships and improve user experience for both existing and potential customers.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2ada3b83",
   "metadata": {},
   "source": [
    "## Analysis Process\n",
    "\n",
    "Great! Let's begin with our analysing process. I've got a Cyclistic dataset from 2024-FEB to 2025-FEB. \n",
    "\n",
    "---\n",
    "\n",
    "### Trips Over The Time\n",
    "\n",
    "Let's start to see the total trips that have been made by riders along that time.\n",
    "\n",
    "\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "    COUNT(*) AS total_rides\n",
    "FROM Cyclistic_data ;\n",
    "```\n",
    "---\n",
    "| Total Trips | \n",
    "|:-------------|\n",
    "| 5,916,546 | \n",
    "\n",
    "\n",
    "---\n",
    "\n",
    "In total, It have been done **5,916,546.** trips. Now, let's how many trips have been done per each category of customers.\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "\tmember_casual,\n",
    "\tCOUNT(ride_id) AS Trips\n",
    "FROM Cyclistic_data\n",
    "GROUP BY member_casual ;\n",
    "```\n",
    "---\n",
    "\n",
    "| Member_casual |Trips|\n",
    "|:------------- |-----|\n",
    "| member | 3,783,918|\n",
    "|casual| 2,132,628|\n",
    "\n",
    "---\n",
    "\n",
    "It confirms that the **member customers** used to use the services more than **casual customers.**\n",
    "\n",
    "---\n",
    "Now, I'm interested to see the trends of the trips donde over the time (2024-feb to 2025 feb) by customer type.\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "    DATENAME(YEAR, started_at) AS Year,\n",
    "\tDATENAME(MONTH, started_at) AS Month,\n",
    "\tmember_casual, \n",
    "\tCOUNT(ride_id) AS Trips\n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY  DATENAME(YEAR, started_at), DATENAME(MONTH, started_at), member_casual\n",
    "ORDER BY MIN(started_at) ;\n",
    "```\n",
    "---\n",
    "| Year | Month | member_casual | Trips |\n",
    "|:---- |:-----:| :-----:       | ---:\n",
    "| 2024 | February | member | 174,099 |\n",
    "|2024| March | member | 216,204 |\n",
    "|2024 | April | member | 279,176 |\n",
    "|2024 | May | member | 373,137 | \n",
    "|2024 | June | member | 404349 |\n",
    "|2024 | July | member | 424,115|\n",
    "|2024 | August| member| 432,738 |\n",
    "|2024 | September | member| 468,723|\n",
    "|2024 | October | member | 396,517 |\n",
    "|2024 | November | member| 240,070 |\n",
    "|2024 | December | member| 138,630 |\n",
    "|2025 | January | member | 113,256 |\n",
    "|2025 | February| member | 122,904 |\n",
    "\n",
    "---\n",
    "| Year | Month | member_casual | Trips |\n",
    "|:---- |:-----:| :-----:       | ---:\n",
    "| 2024 | February | casual | 46,387|\n",
    "|2024| March |casual | 81,089 |\n",
    "|2024 | April | casual | 129,070 |\n",
    "|2024 | May | casual | 226,033 | \n",
    "|2024 | June | casual | 293,953 |\n",
    "|2024 | July | casual | 313,401|\n",
    "|2024 | August| casual| 311,465 |\n",
    "|2024 | September | casual| 338,869|\n",
    "|2024 | October | casual | 212,376 |\n",
    "|2024 | November |casual| 91,422 |\n",
    "|2024 | December |casual| 37,693 |\n",
    "|2025 | January | casual | 23,621 |\n",
    "|2025 | February| casual |27,249 |\n",
    "\n",
    "---\n",
    "<table><tr>\n",
    "<td> <img src=\"member_month.png\" alt=\"Member Daily Trips\" width=\"400\"> </td>   \n",
    "<td> <img src=\"casual_trip_update.png\" alt=\"Casual Daily Trips\" width=\"400\"> </td>  \n",
    "</tr></table>\n",
    "\n",
    "---\n",
    "\n",
    "According to the results, in the **summer season** both groups used to make more trips than the other season. We probably say because the weather both group prefer go to their destination by riding our bikes/scooters than by walk.\n",
    "\n",
    "In the other hand, we see that in the **winter season** both groups used to get the service less than the other season.That probably could be due the **weather** in this case the cold. People prefer for to their destinantion by taxi or something that help them to stay warm.\n",
    "\n",
    "---\n",
    "\n",
    "Next, let's get the monthly average of number of trips that each groups have done along the period\n",
    "\n",
    "---\n",
    "\n",
    "```sql\n",
    "\n",
    "WITH monthly AS (\n",
    "    SELECT \n",
    "        DATENAME(YEAR, started_at) AS Year,  \n",
    "        DATENAME(MONTH, started_at) AS Month,  \n",
    "        DATEPART(MONTH, started_at) AS Number,  \n",
    "        member_casual, \n",
    "        COUNT(ride_id) AS Trips\n",
    "    FROM Cyclistic_data\n",
    "    WHERE member_casual = 'member'\n",
    "    GROUP BY DATENAME(YEAR, started_at), DATENAME(MONTH, started_at), DATEPART(MONTH, started_at), member_casual\n",
    ")\n",
    "\n",
    "SELECT \n",
    "    Year,\n",
    "    member_casual, \n",
    "    AVG(Trips) AS Monthly_avg_trips\n",
    "FROM monthly\n",
    "GROUP BY Year, member_casual\n",
    "ORDER BY Year\n",
    "\n",
    "```\n",
    "---\n",
    "\n",
    "```sql\n",
    "\n",
    "WITH monthly AS (\n",
    "    SELECT \n",
    "        DATENAME(YEAR, started_at) AS Year, \n",
    "        DATENAME(MONTH, started_at) AS Month,  \n",
    "        DATEPART(MONTH, started_at) AS Number,  \n",
    "        member_casual, \n",
    "        COUNT(ride_id) AS Trips\n",
    "    FROM Cyclistic_data\n",
    "    WHERE member_casual = 'casual'\n",
    "    GROUP BY DATENAME(YEAR, started_at), DATENAME(MONTH, started_at), DATEPART(MONTH, started_at), member_casual\n",
    ")\n",
    "\n",
    "SELECT \n",
    "    Year,\n",
    "    member_casual, \n",
    "    AVG(Trips) AS Monthly_avg_trips\n",
    "FROM monthly\n",
    "GROUP BY Year, member_casual\n",
    "ORDER BY Year\n",
    "\n",
    "```\n",
    "\n",
    "---\n",
    "\n",
    "|Year| Member_casual |Avg.Trips|\n",
    "|:--- |:-------------: |-----|\n",
    "|2024| member | 322,523|\n",
    "|2025|member  |118,080|\n",
    "\n",
    "---\n",
    "\n",
    "|Year| Member_casual |Avg.Trips|\n",
    "|:---|:-------------: |-----|\n",
    "|2024| casual | 189,250|\n",
    "|2025| casual  |25,435|\n",
    "\n",
    "---\n",
    "In average, **member customers** made around 322,523 trips per month in 2024, while the **casual customers** made around 189,250 trips per month in the same year. \n",
    "\n",
    "---\n",
    "\n",
    "\n",
    "### Weather vs Number of Trips\n",
    "\n",
    "Let's confirm whether there is a **correlation between the number of trips and the weather.**\n",
    "\n",
    "We are using the **Chicago dataset**, whic contains daily data on weather conditions and trips.\n",
    "\n",
    "Now, we will use **R** to run the following code:\n",
    "\n",
    "---\n",
    "```r\n",
    "library(ggplot2)\n",
    "library(scales)\n",
    "\n",
    "ggplot(data = chicago, aes(x = avg_temp, y = trips)) + \n",
    "  geom_point(color = \"blue\", size = 2, alpha = 0.7) +  \n",
    "  geom_smooth(method = \"lm\", color = \"deepskyblue\", se = FALSE) +  \n",
    "  scale_y_continuous(labels = scales::comma) + \n",
    "  labs(title = \"Relationship Between Temperature and Bike Trips\",\n",
    "       x = \"Average Temperature (°C)\",\n",
    "       y = \"Number of Trips\") + \n",
    "  theme_minimal()\n",
    "\n",
    "```\n",
    "---\n",
    "\n",
    "<table><tr>\n",
    "<td> <img src=\"tempature_trip.png\" alt=\"Temperature vs Number of Trips\" width=\"300\"> </td>  \n",
    "</tr></table>\n",
    "\n",
    "\n",
    "---\n",
    "\n",
    "Indeed, there's a **positive correlations** between the weather and number of trips.\n",
    "\n",
    "---\n",
    "### Trips on Weekdays\n",
    "\n",
    "\n",
    "Now, I'm interested in analyzing the trends in the number of trips for both groups on weekdays. \n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "     DATEPART(WEEKDAY, started_at) AS Weekday_number,\n",
    "\tDATENAME(WEEKDAY, started_at) AS time,\n",
    "\tmember_casual,\n",
    "\tCOUNT(*) AS Trips\n",
    "FROM Cyclistic_data \n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY DATEPART(WEEKDAY, started_at) ,DATENAME(WEEKDAY, started_at), member_casual\n",
    "ORDER BY weekday_number ;\n",
    "\n",
    "```\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "     DATEPART(WEEKDAY, started_at) AS Weekday_number,\n",
    "\tDATENAME(WEEKDAY, started_at) AS Day,\n",
    "\tmember_casual,\n",
    "\tCOUNT(*) AS Trips\n",
    "FROM Cyclistic_data \n",
    "WHERE member_casual = 'casual'\n",
    "GROUP BY DATEPART(WEEKDAY, started_at) ,DATENAME(WEEKDAY, started_at), member_casual\n",
    "ORDER BY weekday_number ;\n",
    "```\n",
    "---\n",
    "| Weekday_number | Day| member_casual | Trips |\n",
    "|:---- |:-----:| :-----:       | ---:\n",
    "| 1 | Sunday    | member | 424,408 |\n",
    "| 2 | Monday    | member | 543,185 |\n",
    "| 3 | Tuesday   | member | 582,982 |\n",
    "| 4 | Wednesday | member | 616,683 | \n",
    "| 5 | Thrusday  | member | 585,758 |\n",
    "| 6 | Friday    | member | 542,310 |\n",
    "| 7 | Saturday  | member | 488,592 |\n",
    "\n",
    "---\n",
    "   \n",
    "| Weekday_number | Day| member_casual | Trips |\n",
    "|:---- |:-----:| :-----:       | ---:\n",
    "| 1 | Sunday    | casual | 365,220 |\n",
    "| 2 | Monday    | casual | 250,501 |\n",
    "| 3 | Tuesday   | casual | 231,145 |\n",
    "| 4 | Wednesday | casual | 267,289 | \n",
    "| 5 | Thrusday  | casual | 263,788 |\n",
    "| 6 | Friday    | casual | 314,667 |\n",
    "| 7 | Saturday  | casual | 440,018 |\n",
    "\n",
    "---\n",
    "<table><tr>\n",
    "<td> <img src=\"prueba b.png\" alt=\"Member Daily Trips\" width=\"250\"> </td>   \n",
    "<td> <img src=\"casual_daily_update.png\" alt=\"Casual Daily Trips\" width=\"250\"> </td>  \n",
    "</tr></table>\n",
    "\n",
    "---\n",
    "\n",
    "The results show that **member customers** tend to take more trips on **weekdays**, while  the **casual customers** take more trips on **weekend.**\n",
    "\n",
    "It is likely that **members** use the bikes for commuting to work, whereas **casuals** use them for leisure activies.\n",
    "\n",
    "---\n",
    "\n",
    "### Peak Hours by Trips\n",
    "\n",
    "Now, let's analyze the peak hours when customers take the most trips\n",
    "\n",
    "---\n",
    "```sql \n",
    "SELECT \n",
    "    TOP 6 \n",
    "    FORMAT(started_at, 'h tt') AS Time,\n",
    "    member_casual,\n",
    "    COUNT(*) AS Trips\n",
    "FROM Cyclistic_data \n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY FORMAT(started_at, 'h tt'), member_casual\n",
    "ORDER BY Trips DESC;\n",
    "```\n",
    "---\n",
    "\n",
    "```sql\n",
    "SELECT \n",
    "    TOP 6 \n",
    "    FORMAT(started_at, 'h tt') AS Time,\n",
    "    member_casual,\n",
    "    COUNT(*) AS Trips\n",
    "FROM Cyclistic_data \n",
    "WHERE member_casual = 'casual'\n",
    "GROUP BY FORMAT(started_at, 'h tt'), member_casual\n",
    "ORDER BY Trips DESC;\n",
    "```\n",
    "---\n",
    "| Time | member_casual | Trips |\n",
    "|:---- |  :-----:      | -----:      \n",
    "|5 PM| member | 401,012 |\n",
    "|4 PM| member | 351,662 |\n",
    "|6 PM| member | 311,414 |\n",
    "|**8 AM**| **member** | **262,509** |\n",
    "|3 PM| member | 257,062 |\n",
    "|7 PM| member | 217,774 |\n",
    "\n",
    "---\n",
    "| Time | member_casual | Trips |\n",
    "|:---- |  :-----:      | -----:      \n",
    "|5 PM| casual | 202,697 |\n",
    "|4 PM| casual | 190,257 |\n",
    "|6 PM| casual | 171,840 |\n",
    "|3 PM| casual | 168,895 |\n",
    "|2 PM| casual | 153,354 |\n",
    "|7 PM| casual | 147,139 |\n",
    "\n",
    "---\n",
    "\n",
    "<table><tr>\n",
    "<td> <img src=\"member_hour.png\" alt=\"Member Daily Trips\" width=\"400\"> </td>   \n",
    "<td> <img src=\"casual_hour.png\" alt=\"Casual Daily Trips\" width=\"400\"> </td>  \n",
    "</tr></table>\n",
    "\n",
    "---\n",
    "\n",
    "The results show that the busiest hours are in the evening. however, it caught my attention that **8 AM** also appears as a peak hour for **members**. This suggests that they likely use the service to commute to work or university.\n",
    "\n",
    "### Most bike type used \n",
    "\n",
    "Now, let's analyze which bike type was used the most during the period under review.\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "\trideable_type,\n",
    "\tCOUNT (ride_id) AS Trips\n",
    "FROM Cyclistic_data\n",
    "GROUP BY  rideable_type\n",
    "ORDER BY Trips DESC ; \n",
    "```\n",
    "--- \n",
    "|rideable_type | Trips |\n",
    "|:----         | -----:      \n",
    "|electric_bike |  3,028,958 |\n",
    "|classic_bike  | 2,747,222  |\n",
    "|electric_scooter| 140,366|\n",
    "\n",
    "---\n",
    "\n",
    "The **Electric bike** is the most frequently used bike by customers over time. Now, let's see if this changes when we calculate the most used bike for each customer group.\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "\trideable_type,\n",
    "\tmember_casual,\n",
    "\tCOUNT (ride_id) AS Trips\n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY  rideable_type, member_casual\n",
    "ORDER BY Trips Desc ; \n",
    "```\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "\trideable_type,\n",
    "\tmember_casual,\n",
    "\tCOUNT (ride_id) AS Trips\n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'casual'\n",
    "GROUP BY  rideable_type, member_casual\n",
    "ORDER BY Trips Desc ; \n",
    "```\n",
    "---\n",
    "|rideable_type   | member_casual| Trips  |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|electric_bike   | member       |1,949,920 |\n",
    "|classic_bike    | member       | 1,776,736|\n",
    "|electric_scooter| member       | 57,262   |\n",
    "\n",
    "---\n",
    "|rideable_type   | member_casual| Trips  |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|electric_bike   | casual       |1,079,038 |\n",
    "|classic_bike    | casual       | 970,486  |\n",
    "|electric_scooter| casual       | 83,104   |\n",
    "\n",
    "---\n",
    "\n",
    "<table><tr>\n",
    "<td> <img src=\"member_bike.png\" alt=\"Member Daily Trips\" width=\"200\"> </td>   \n",
    "<td> <img src=\"casual_bike.png\" alt=\"Casual Daily Trips\" width=\"200\"> </td>  \n",
    "</tr></table>\n",
    "\n",
    "---\n",
    "According to the results, both groups use the same type of bikes. However, the only difference between them is that **casual customers** use the **electric scooter** more frequently than **members**.\n",
    "\n",
    "---\n",
    "### Trips Avg. Duration\n",
    "\n",
    "Now, let's analyze the duration (on avg.minutes) that customers use each type of bike.\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "    rideable_type,\n",
    "    member_casual,\n",
    "    AVG(minutes_traveled)  AS avg_minutes_traveled \n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY rideable_type, member_casual\n",
    "ORDER BY avg_minutes_traveled  DESC;\n",
    "```\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "    rideable_type,\n",
    "    member_casual,\n",
    "    AVG(minutes_traveled)  AS avg_minutes_traveled \n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'casual'\n",
    "GROUP BY rideable_type, member_casual\n",
    "ORDER BY avg_minutes_traveled  DESC;\n",
    "```\n",
    "---\n",
    "|rideable_type   | member_casual| avg_minutes_traveled |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|classic_bike   | member       |   13     |\n",
    "|electric_bike  | member       |   11     |\n",
    "|electric_scooter| member      |    8     |\n",
    "\n",
    "---\n",
    "\n",
    "|rideable_type   | member_casual| avg_minutes_traveled |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|classic_bike    | casual       |   29    |\n",
    "|electric_bike   | casual       |   14    |\n",
    "|electric_scooter| casual       |    12   |\n",
    "\n",
    "---\n",
    "\n",
    "\n",
    "<table><tr>\n",
    "<td> <img src=\"member_minutes.png\" alt=\"Member Daily Trips\" width=\"200\"> </td>   \n",
    "<td> <img src=\"casual_minutes.png\" alt=\"Casual Daily Trips\" width=\"200\"> </td>  \n",
    "</tr></table>\n",
    "\n",
    "---\n",
    "\n",
    "According to the results, the **casual customers** spend more time riding the bikes than the **member customers.**\n",
    "\n",
    "---\n",
    "\n",
    "Since we know that the casual customer spend more time riding the bikes, it woulb be interesing to determine which days they tend to spend the most time on the bikes\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "\tTOP 2\n",
    "\tDATENAME(WEEKDAY, started_at) AS Day,\n",
    "    rideable_type,\n",
    "    member_casual,\n",
    "    AVG(minutes_traveled)  AS avg_minutes_traveled \n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY rideable_type, member_casual, DATENAME(WEEKDAY, started_at)\n",
    "ORDER BY avg_minutes_traveled  DESC;\n",
    "\n",
    "```\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "\tTOP 2\n",
    "\tDATENAME(WEEKDAY, started_at) AS Day,\n",
    "    rideable_type,\n",
    "    member_casual,\n",
    "    AVG(minutes_traveled)  AS avg_minutes_traveled \n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'casual'\n",
    "GROUP BY rideable_type, member_casual, DATENAME(WEEKDAY, started_at)\n",
    "ORDER BY avg_minutes_traveled  DESC;\n",
    "\n",
    "```\n",
    "---\n",
    "|  Day   |rideable_type   | member_casual| avg_minutes_traveled |\n",
    "| :----  | :------:       |   :-----:    |    -----:            |\n",
    "|Saturday| classic_bike   |   member     | 14 |\n",
    "|Sunday  | classic_bike   |   member     | 14 |\n",
    "\n",
    "---\n",
    "|  Day   |rideable_type   | member_casual| avg_minutes_traveled |\n",
    "| :----  | :------:       |   :-----:    |    -----:            |\n",
    "|**Sunday**| **classic_bike**   |   **casual**     | **32** |\n",
    "|**Saturday**| **classic_bike**   |   **casual**     | **31** |\n",
    "\n",
    "---\n",
    "\n",
    "The results show that both groups spend more time traveling on the bikes during the weekends.However, **casual customers spend twice as much time as member customers.**\n",
    "\n",
    "---\n",
    "### Distance Traveled by Customer Type (Miles)\n",
    "\n",
    "Now, let's analyze the distance each customer type has traveled, measured in avg. miles.\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "    rideable_type,\n",
    "    member_casual,\n",
    "    ROUND(AVG(distance_meters)/60,2) AS avg_miles_traveled\n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY rideable_type, member_casual\n",
    "ORDER BY avg_miles_traveled  DESC;\n",
    "```\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "    rideable_type,\n",
    "    member_casual,\n",
    "    ROUND(AVG(distance_meters)/60,2) AS avg_miles_traveled\n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'casual'\n",
    "GROUP BY rideable_type, member_casual\n",
    "ORDER BY avg_miles_traveled  DESC;\n",
    "```\n",
    "---\n",
    "\n",
    "|rideable_type   | member_casual| avg_miles_traveled |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|electric_bike   | member       |   40.47   |\n",
    "|classic_bike    | member       |   32.26   |\n",
    "|electric_scooter| member       |   26.07   |\n",
    "\n",
    "---\n",
    "|rideable_type   | member_casual| avg_miles_traveled |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|electric_bike   | casual      |   37.27  |\n",
    "|classic_bike    | casual      |   34.84  |\n",
    "|electric_scooter| casual      |   23.98  |\n",
    "\n",
    "---\n",
    "According to the results, when we focus on the **classic bike**, we can see that **casual customers**, on average, have traveled more miles than **member customers.**\n",
    "\n",
    "---\n",
    "\n",
    "### Most Popular Starting Stations\n",
    "\n",
    "Now, let's analyze the most popular starting stations based on the number of trips.\n",
    "\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "   TOP 5\n",
    "    start_station_name,\n",
    "    member_casual,\n",
    "    COUNT(ride_id) AS Starting_trips\n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'member' AND start_station_name IS NOT NULL\n",
    "GROUP BY start_station_name, member_casual\n",
    "ORDER BY Starting_trips  DESC;\n",
    "```\n",
    "---\n",
    "```sql\n",
    "SELECT \n",
    "   TOP 5\n",
    "    start_station_name,\n",
    "    member_casual,\n",
    "    COUNT(ride_id) AS Starting_trips\n",
    "FROM Cyclistic_data\n",
    "WHERE member_casual = 'casual' AND start_station_name IS NOT NULL\n",
    "GROUP BY start_station_name, member_casual\n",
    "ORDER BY Starting_trips  DESC;\n",
    "```\n",
    "---\n",
    "\n",
    "|start_station_name             | member_casual| Starting_trips |\n",
    "|:----                          |   :-----:    |  -----:      \n",
    "|Kingsbury St & Kinzie St       | member       |   31,107  |\n",
    "|Clinton St & Washington Blvd   | member       |   28,564  |\n",
    "|Clinton St & Madison St        | member       |   25,676  |\n",
    "|Clark St & Elm St              | member       |   25,455  |\n",
    "|Wells St & Concord Ln          | member       |   21,251  |\n",
    "\n",
    "---\n",
    "|start_station_name             | member_casual| Starting_trips |\n",
    "|:----                          |   :-----:    |  -----:      \n",
    "|Streeter Dr & Grand Ave              | casual      |  50,778   |\n",
    "|DuSable Lake Shore Dr & Monroe St    | casual      |  33,956   |\n",
    "|Michigan Ave & Oak St                | casual      |  24,996   |\n",
    "|DuSable Lake Shore Dr & North Blvd   | casual      |  22,855   |\n",
    "|Millennium Park                      |casual       |  22,454   |\n",
    "\n",
    "---\n",
    "According to the results, we can see that the most common starting stations for **member customers** are in **urban zone**, while the most common starting stations for the **casual** customers are in **recreational zone.**\n",
    "\n",
    "---\n",
    "### Distance Traveled in Categories\n",
    "\n",
    "Finally, I want to calculate the duration of trips for both groups. Let's classify the trips into three categories: **Short:** Trips that are less than or equal to 1 mile (or 1,000 meters). **Short:** Trips between 1 and 2 miles and **long**: is the trip is greater than 2 miles.\n",
    "\n",
    "---\n",
    "```sql\n",
    "WITH trip_category AS (\n",
    "    SELECT \n",
    "        member_casual,\n",
    "        distance_meters,\n",
    "        CASE \n",
    "            WHEN distance_meters <= 1000 THEN 'short_trip'\n",
    "            WHEN distance_meters > 1000 AND distance_meters <= 2000 THEN 'medium_trip'\n",
    "            ELSE 'long_trip'\n",
    "        END AS trip_category\n",
    "    FROM Cyclistic_data\n",
    ")\n",
    "\n",
    "SELECT \n",
    "    member_casual,\n",
    "    trip_category,\n",
    "    CONCAT(CAST(ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(PARTITION BY member_casual), 0) AS INT), '%') AS trip_category_percentage\n",
    "FROM trip_category\n",
    "WHERE member_casual = 'member'\n",
    "GROUP BY member_casual, trip_category\n",
    "ORDER BY trip_category_percentage DESC ;\n",
    "```\n",
    "---\n",
    "```sql\n",
    "WITH trip_category AS (\n",
    "    SELECT \n",
    "        member_casual,\n",
    "        distance_meters,\n",
    "        CASE \n",
    "            WHEN distance_meters <= 1000 THEN 'short_trip'\n",
    "            WHEN distance_meters > 1000 AND distance_meters <= 2000 THEN 'medium_trip'\n",
    "            ELSE 'long_trip'\n",
    "        END AS trip_category\n",
    "    FROM Cyclistic_data\n",
    ")\n",
    "\n",
    "SELECT \n",
    "    member_casual,\n",
    "    trip_category,\n",
    "    CONCAT(CAST(ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(PARTITION BY member_casual), 0) AS INT), '%') AS trip_category_percentage\n",
    "FROM trip_category\n",
    "WHERE member_casual = 'casual'\n",
    "GROUP BY member_casual, trip_category\n",
    "ORDER BY trip_category_percentage DESC ;\n",
    "```\n",
    "---\n",
    "\n",
    "|member_casual   | trip_category| avg_miles_traveled |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|member          | long_trip    |   39%     |\n",
    "|member          | medium_trip  |   32%     |\n",
    "|member          | short_trip   |   29%     |\n",
    "\n",
    "---\n",
    "|member_casual   | trip_category| avg_miles_traveled |\n",
    "|:----           |   :-----:    |  -----:      \n",
    "|member          | long_trip    |   40%     |\n",
    "|member          | medium_trip  |   33%     |\n",
    "|member          | short_trip   |   28%     |\n",
    "\n",
    "---\n",
    "According to the results, in average both groups use the bike to make trips longer than 2 miles. \n",
    "\n",
    "---\n",
    "\n",
    "###  Percentage Representacion by Bikes Type\n",
    "\n",
    "Now, let's analyze the percentage representation of each bike type in those trips.\n",
    "\n",
    "---\n",
    "```sql\n",
    "WITH trip_category AS (\n",
    "    SELECT \n",
    "\t\trideable_type,\n",
    "        member_casual,\n",
    "        distance_meters,\n",
    "        CASE \n",
    "            WHEN distance_meters <= 1000 THEN 'short_trip'\n",
    "            WHEN distance_meters > 1000 AND distance_meters <= 2000 THEN 'medium_trip'\n",
    "            ELSE 'long_trip'\n",
    "        END AS trip_category\n",
    "    FROM Cyclistic_data\n",
    ")\n",
    "\n",
    "SELECT \n",
    "\trideable_type,\n",
    "    member_casual,\n",
    "    trip_category,\n",
    "    CONCAT(CAST(ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(PARTITION BY member_casual), 0) AS INT), '%') AS trip_category_percentage\n",
    "FROM trip_category\n",
    "WHERE member_casual = 'member' AND trip_category = 'long_trip'\n",
    "GROUP BY member_casual, trip_category, rideable_type\n",
    "ORDER BY trip_category_percentage DESC ;\n",
    "\n",
    "\n",
    "```\n",
    "---\n",
    "```sql\n",
    "WITH trip_category AS (\n",
    "    SELECT \n",
    "\t\trideable_type,\n",
    "        member_casual,\n",
    "        distance_meters,\n",
    "        CASE \n",
    "            WHEN distance_meters <= 1000 THEN 'short_trip'\n",
    "            WHEN distance_meters > 1000 AND distance_meters <= 2000 THEN 'medium_trip'\n",
    "            ELSE 'long_trip'\n",
    "        END AS trip_category\n",
    "    FROM Cyclistic_data\n",
    ")\n",
    "\n",
    "SELECT \n",
    "\trideable_type,\n",
    "    member_casual,\n",
    "    trip_category,\n",
    "    CONCAT(CAST(ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(PARTITION BY member_casual), 0) AS INT), '%') AS trip_category_percentage\n",
    "FROM trip_category\n",
    "WHERE member_casual = 'member' AND trip_category = 'long_trip'\n",
    "GROUP BY member_casual, trip_category, rideable_type\n",
    "ORDER BY trip_category_percentage DESC ;\n",
    "```\n",
    "---\n",
    "\n",
    "|ridealbe_type   |member_casual | trip_category| trip_category_percentage |\n",
    "|:----           |   :-----:    |  -----:      |      -----:              |\n",
    "|electric_bike   | member       |   long_trip  |     60%                  |\n",
    "|classic_bike    | member       |   long_trip  |      39%                 |\n",
    "|electric_scooter| member       |  long_trip   |      1%                  |\n",
    "\n",
    "---\n",
    "\n",
    "|ridealbe_type   |member_casual | trip_category| trip_category_percentage |\n",
    "|:----           |   :-----:    |  -----:      |      -----:              |\n",
    "|electric_bike   | casual       |   long_trip  |     54%                  |\n",
    "|classic_bike    | casual       |   long_trip  |      44%                 |\n",
    "|electric_scooter| casual       |  long_trip   |      2%                  |\n",
    " \n",
    "---\n",
    "\n",
    "In fact, the results show that **casual customers** use **classic bike** more frequently for their long trip. \n",
    "\n",
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "36f24d2a",
   "metadata": {},
   "source": [
    "## Conclusion \n",
    "\n",
    "Overall, demand from member customers tends to be more stable throughout the year. Both rider groups reach peak usage during the summer months and experience the lowest demand in winter, showing a positive correlation between weather and ride volume. This seasonal trend is likely due to colder temperatures discouraging bike usage in favor of warmer transportation options. On average, members took more trips per month than casual riders during the period analyzed.\n",
    "When examining weekly patterns, casual riders are more likely to use bikes on weekends, suggesting recreational usage, while members tend to ride more during weekdays, likely commuting to work or university. This is further supported by hourly trends: members often ride around 8:00 AM and again in the evening, aligning with typical work or school hours. In contrast, casual riders show low usage in the morning and peak activity in the evening, which may reflect leisure activities after work or school hours.\n",
    "\n",
    "Electric bikes were the most commonly used bike type across both groups, possibly indicating a shared preference for speed and convenience. Interestingly, even though electric bikes are faster, both groups spend more time on classic bikes—with casual riders spending twice as much time on average compared to members.Another notable difference is in trip start locations. Casual riders often begin their trips in recreational areas such as parks or near museums, while member trips tend to start in urban zones, reinforcing the assumption that members use the service primarily for commuting. Lastly, both rider groups frequently use electric bikes for trips longer than 2 miles, indicating their suitability for longer distances.\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2ddc9342",
   "metadata": {},
   "source": [
    "## Recomendations\n",
    "\n",
    "Based on the findings from the analysis, the following strategies could be implemented to encourage casual riders to convert into annual members:\n",
    "\n",
    "- **Seasonal Membership Promotions:** Given that the summer season sees the highest demand for bikes, offering seasonal discounts or promotions for new members during this peak period could attract casual riders to commit to a membership.\n",
    "\n",
    "\n",
    "- **Electric Bike Discounts for Members:** Since electric bikes are the preferred choice for both member and casual riders, offering discounted rates or exclusive access to electric bikes for members could be an effective way to incentivize casual riders to become members.\n",
    "\n",
    "\n",
    "- **Ride-Time Based Discounts for Classic Bikes:** Casual riders, on average, spend more time traveling on classic bikes (approximately 32 minutes per ride). Implementing a discount system based on the duration of rides, such as offering a discount for every 10 minutes of travel, could provide an additional incentive for casual riders to consider a membership, while also rewarding their extended use of the classic bikes.\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "d7ea8e46",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
